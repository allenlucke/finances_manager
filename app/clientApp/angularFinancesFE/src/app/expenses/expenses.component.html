<h2>My Expenses</h2>
<div class="container">
  <div>
    <div>
      <label>Select Search Timeframe Criteria</label>
      <div>
        <input type ="radio" name ="rad1" (click)= "changeSearchBy('last60')">All Time
        <input type ="radio" name ="rad1" (click)= "changeSearchBy('period')" >Period
        <input type ="radio" name ="rad1" (click)= "changeSearchBy('dateRange')" >Date Range
      </div>
      <div *ngIf="searchBy === 'period'">
        <label>Period: </label>
        <select [(ngModel)] = "expensesRequest.period">
          <option></option>
          <option *ngFor="let period of periodData" value = "{{ period.id }}">{{ period.start_date | date: 'MM/dd/yyyy' }} - {{ period.end_date | date: 'MM/dd/yyyy' }}</option>
          <option></option>      
        </select>
      </div>
      <div *ngIf="searchBy === 'dateRange'">
        <label>Start Date: </label>
        <input [(ngModel)] = "expensesRequest.startdate"
          placeholder="Start Date"
          class="form-control"
          bsDatepicker>
        <label>End Date: </label>
        <input [(ngModel)] = "expensesRequest.enddate"
          placeholder="End Date"
          class="form-control"
          bsDatepicker>
      </div>

      <!-- <label>User ID: </label>
      <input [(ngModel)] = "expensesRequest.users_id" /> -->
      <label>Category: </label>
      <select [(ngModel)] = "expensesRequest.category_id" >
        <option></option>
        <option *ngFor="let category of expCatData" value = "{{category.id}}">{{category.name}}</option>
      </select>
      <label>Accounts ID: </label>
      <input [(ngModel)] = "expensesRequest.accounts_id" />
      <label>Name: </label>
      <input [(ngModel)] = "expensesRequest.name" />
      <label>Paid: </label>
      <!-- <select [(ngModel)] = "expensesRequest.paid" >
        <option></option>
        <option value="true" >TRUE</option>
        <option value="false" >FALSE</option>
      </select> -->
      <input [(ngModel)] = "expensesRequest.paid" />

      <label>Recurring: </label>
      <select [(ngModel)] = "expensesRequest.recurring" >
        <option></option>
        <option value="true" >TRUE</option>
        <option value="false" >FALSE</option>
      </select>

      <!-- <input [(ngModel)] = "expensesRequest.recurring" /> -->
      <label>Amount Due: </label>
      <input [(ngModel)] = "expensesRequest.amount_due" />
      <label>Amount Paid: </label>
      <input [(ngModel)] = "expensesRequest.amount_paid" /> 
      <div>
        <button (click)="loadExpensesRequest()">Search Expenses</button>
      </div>
    </div>
  </div>
  <div>
    <table class="table table-bordered table-striped table-hover">
        <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Paid</th>
            <th>Due By</th>
            <th>Paid On</th>
            <th>Recurring</th>
            <th>Amount Due</th>
            <th>Amount Paid</th>
            <th>User ID</th>
            <th>Category ID</th>
            <!-- <th>Accounts ID</th> -->
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let expense of allExpenses">
            <td>{{ expense.id }}</td>
            <td>{{ expense.name }}</td>
            <td>{{ expense.paid }}</td>
            <td>{{ expense.due_by | date: 'MM/dd/yyyy'}}</td>
            <td>{{ expense.paid_on | date: 'MM/dd/yyyy' }}</td>
            <td>{{ expense.recurring }}</td>
            <td>{{ expense.amount_due }}</td>
            <td>{{ expense.amount_paid}}</td>
            <td>{{ expense.user_id }}</td>
            <td>{{ expense.category_id }}</td>
            <!-- <td>{{ expense.accounts_id }}</td> -->
        </tr>
        </tbody>
    </table>
  </div>
</div>


<!-- <div>
    <label for="expense-name">Expense Name: </label>
    <input id="expense-name"[(ngModel)]="selectedExpense.name" placeholder="name">
</div> -->